<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<input type="button" value="51Gg3 搜索" class="Aa"/>
		<input type="checkbox" name="test" value="第1项" class="one"/> 第1项
		<input type="checkbox" name="test" value="第2项" class="one" />第2项
		<input type="checkbox" name="test" value="第3项" class="one" />第3项
		<a href=""></a>

	</body>
	<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script type="text/javascript">
		
		$('input[type="button"]').on('click',function(){
			if($(this).attr('isClick')==='true'){
				
				$("input[type='checkbox']").removeAttr('checked');
				$(this).removeAttr('isClick');				
				return;
			}
			$(this).attr('isClick','true');
			$("input[type='checkbox']").prop('checked','ok');
			
		});
		$('.one').on('click',function () {
			
			if($(this).hasClass('ok')){
				$(this).removeClass('ok');
			}else{
				$(this).addClass('ok');
			}
			console.log($('.one').filter('.ok').length , $('.one').length)
			if($('.one').filter('.ok').length == $('.one').length){
				$('.Aa').val('全选')
			}else{
				$('.Aa').val('不全选')
			}
			
			$('.one').each(function () {
//				console.log($(this).prop('checked'));
//				if($('.one').prop('checked')){
//					console.log('全选')
//				}
//				if(!$(this).prop('checked')){
//					$('.Aa').val('不全选')
//				}else{
//					$('.Aa').val('全选')
//				}

				
			});
			
		});
	</script>
	
</html>
