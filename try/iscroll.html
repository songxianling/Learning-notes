<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
		<style>
			#wrapper {
				position: absolute;
				z-index: 2;
				top: 0;
				bottom: 0;
				left: 0;
				width: 100%;
				/*height: 100%;*/
				background: #666;
				overflow: auto;
			}
			
			#scroller {
				position: absolute;
				z-index: 1;
				/*	-webkit-touch-callout:none;*/
				-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
				width: 100%;
				padding: 0;
			}
			
			#wrapperTwo {
				position: absolute;
				z-index: 2;
				top: 0;
				bottom: 0;
				left: 0;
				width: 100%;
				background: #666;
				overflow: auto;
			}
			
			#scrollerTwo {
				position: absolute;
				z-index: 1;
				-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
				width: 100%;
				padding: 0;
			}
			
			#wrapperThree {
				position: absolute;
				z-index: 2;
				top: 0;
				bottom: 0;
				left: 0;
				width: 100%;
				background: #666;
				overflow: auto;
			}
			
			#scrollerThree {
				position: absolute;
				z-index: 1;
				-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
				width: 100%;
				padding: 0;
			}
			
			.first-con {
				/* position: fixed; */
				background: #fff;
				text-align: left;
				padding: 1.563rem .938rem 0 .938rem;
				box-sizing: border-box;
				/*display: none;*/
			}
			
			.first-con .title {
				text-align: left;
				margin: 0 0 1.281rem;
				color: #000000;
				font-size: 1.5rem;
			}
			
			.first-con .info {
				font-size: 1rem;
				color: #8f8f8f;
			}
			
			.first-con .info span {
				color: #4c7ba7;
				margin-left: .563rem;
			}
			
			.first-con .con-img {
				display: block;
				width: 100%;
				height: 100%;
				margin-bottom: 10px;
			}
			
			.first-con .footer-con {
				padding: 1.906rem 0 1.5rem;
				font-size: 1.062rem;
			}
			
			.first-con .footer-con a {
				float: left;
				text-decoration: none;
				color: #4c7ba7;
				margin-right: .813rem;
			}
			
			.first-con .footer-con>span {
				float: left;
				color: #868686;
			}
			
			.first-con .footer-con>span:nth-last-child(1) {
				float: right;
			}
			/*投诉内容盒子*/
			
			.complaint-box {
				/* 不能写到此处;问题第二个盒子的时候不能上拉；要在js中合适的时机赋值 */
				/*position: fixed;*/ 
				width: 100%;
				height: 100%;
				background: #fff;
				display: none;
				text-align: left;
				background: #f1f1f4;
			}
			
			.complaint-box p {
				color: #939297;
				padding: 1rem .938rem .5rem;
				font-size: .875rem;
				background: #f1f1f4;
			}
			
			.complaint-box p.last {
				padding: .875rem 0;
				font-size: 1.063rem;
				border-bottom: 1px solid #d8d8d8;
				border-top: 1px solid #d8d8d8;
				background: #fff;
				color: #000000;
			}
			
			.complaint-box ul {
				padding: 0 .625rem;
				border-bottom: 1px solid #d8d8d8;
				border-top: 1px solid #d8d8d8;
				background: #fff;
			}
			
			.complaint-box ul li {
				padding: .875rem 0;
				font-size: 1.063rem;
				border-bottom: 1px solid #d8d8d8;
			}
			
			.complaint-box ul li span {
				float: right;
				width: .5rem;
				height: .75rem;
				margin-top: .5rem;
				background: url(/images/m5/Wechat/Fission/jiantou.png) no-repeat;
				background-size: 100% 100%;
			}
			
			.complaint-box ul li:nth-last-child(1) {
				border-bottom: none;
			}
			/*投诉结果页*/
			
			.complaint-results-box {
				display: none;
				position: fixed;
				width: 100%;
				height: 100%;
				padding: .625rem;
				box-sizing: border-box;
				background: #fff;
			}
			
			.complaint-results-box i {
				display: block;
				width: 5.875rem;
				height: 5.875rem;
				background: green;
				border-radius: 50%;
				margin: 2.688rem auto 1.75rem;
			}
			
			.complaint-results-box p:nth-of-type(1) {
				font-size: 1.125rem;
				color: #000000;
			}
			
			.complaint-results-box p:nth-of-type(2) {
				margin: 1.5rem 0 1.75rem;
				font-size: .906rem;
				color: #858489;
			}
			
			.complaint-results-box a {
				display: block;
				width: 100%;
				height: 2.625rem;
				line-height: 2.625rem;
				border-radius: .3rem;
				text-align: center;
				color: #fff;
				font-size: 1.125rem;
				background: #67B168;
			}
			/*底部背景*/
			
			.bg-xh-author {
				position: fixed;
				width: 80%;
				top: 15px;
				left: 50%;
				margin-left: -40%;
				font-size: .75rem;
				text-align: center;
				color: #6f7476;
				display: none;
			}
		</style>
		<link rel="stylesheet" href="https://cdn.bootcss.com/weui/1.1.1/style/weui.min.css">
		<link rel="stylesheet" href="https://cdn.bootcss.com/jquery-weui/1.0.1/css/jquery-weui.min.css">
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<script src="https://cdn.bootcss.com/jquery/1.11.0/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/jquery-weui/1.0.1/js/jquery-weui.min.js"></script>
		<script src="js/iscroll.js"></script>
	</head>

	<body>
		<div id="wrapper" style="overflow: hidden;">
			<div id="scroller">
				<div class="bg-xh-author js-author">本网页由www.starbucks.com.cn提供</div>
				<div class="first-con js-first-box">
					<div class="title">本网页由本网页由本网页由</div>
					<div class="info clearfix">
						2017-11-07
						<span>哈哈</span>
					</div>
					<img class="con-img" src="https://www.starbucks.com.cn/assets/img/sections/breakfast_wb-20150521050044.jpg" alt="">
					<img class="con-img" src="https://www.starbucks.com.cn/assets/img/resized/kv-nitro-mobile-r-q100-m111111.jpg" alt="">
					<div class="info clearfix">
						2017-11-07
						<span>哈哈</span>
					</div>
					<div class="footer-con clearfix">
						<a href="#">阅读原文</a>
						<span>阅读100000+ <i>按钮</i>10000+</span>
						<span class="js-complaint-btn">投诉</span>
					</div>
				</div>
			</div>
		</div>
		<!--投诉页面-->
		<div id="wrapperTwo" style="overflow: hidden;display: none;">
			<div id="scrollerTwo">
				<div class="bg-xh-author js-author">本网页由www.starbucks.com.cn提供</div>
				<!--投诉con-->
				<div class="complaint-box js-complaint-box">
					<p>请选择投诉原因</p>
					<ul>
						<li>欺诈</li>
						<li>色情</li>
						<li>诱导行为</li>
						<li>不实信息</li>
						<li>违法犯罪</li>
						<li>骚扰</li>
						<li>违规声明原创</li>
						<li>未经授权的文章内容</li>
						<li>其他</li>
					</ul>
					<p>个人/企业等民事主体被诽谤侮辱、人身权或知识产权等被侵犯请选择“侵权”投诉。</p>
					<p class="last">侵权（冒充他人、侵犯名誉等）</p>
				
				</div>
			</div>
		</div>

		<!--投诉结果页面-->
		<div id="wrapperThree" style="overflow: hidden;display: none;">
			<div id="scrollerThree">
				<div class="bg-xh-author js-author">本网页由www.starbucks.com.cn提供</div>
				<!--投诉结果页-->
				<div class="complaint-results-box js-complaint-results-box">
					<i></i>
					<p>已提交</p>
					<p>你的投诉已提交审核，投诉单号：77667777，我们会在7个工作日内处理，感谢你对平台的支持</p>
					<a href="###">确定</a>
				</div>
			</div>
		</div>

	</body>
	<script>
		var myScroll;

		var $author = $('.js-author'); // 提供者
		var $firstBox = $('.js-first-box'); // 第一个盒子
		var $complaintBtn = $('.js-complaint-btn'); // 第一盒子中的投诉按钮
		var $complaintBox = $('.js-complaint-box'); // 投诉盒子
		var $complaintResultsBox = $('.js-complaint-results-box'); // 投诉结果盒子
		var $warpperOne = $('#wrapper'); //   第一个warpper
		var $warpperTwo = $('#wrapperTwo'); //   第二个warpper
		var $warpperThree = $('#wrapperThree'); //   第三个warpper



		/* 盒子初始化 */
		function loaded(n) {
			if(n == 1){
				myScroll = new iScroll('wrapper');
				$firstBox.css('position', 'fixed');
			}else if(n == 2){
				myScroll = new iScroll('wrapperTwo');
				$complaintBox.css('position', 'fixed');
			}else{
				myScroll = new iScroll('wrapperThree');
			}
			$author.show();
		}
		document.addEventListener('touchmove', function(e) {
			e.preventDefault();
		}, false);
		document.addEventListener('DOMContentLoaded', function() {
			setTimeout(function() {
				loaded(1);
			}, 500);
		}, false);
		/* 投诉按钮点击 */
		$complaintBtn.on('click', function() {
			document.title = '投诉';
			$warpperOne.hide();
			$warpperTwo.show();
			$complaintBox.show();
			loaded(2);
		});

		$complaintBox.on('click', 'li', function() {
			$warpperTwo.hide();
			$warpperThree.show();
			$complaintResultsBox.show();
			loaded(3);
		});

		//		var hiddenProperty = 'hidden' in document ? 'hidden' : 'webkitHidden' in document ? 'webkitHidden' : 'mozHidden' in document ? 'mozHidden' : null;
		//		var visibilityChangeEvent = hiddenProperty.replace(/hidden/i, 'visibilitychange');
		//		var aaa = 0;
		//		var onVisibilityChange = function() {
		//			if(!document[hiddenProperty]) {
		//				console.log('页面非激活');
		//				if(aaa == 0) {
		//					confirm1();
		//					return false;
		//				}
		//				if(aaa == 1) {
		//					confirm2();
		//					return false;
		//				}
		//				if(aaa == 2) {
		//					ok();
		//					return false;
		//				}
		//
		//			} else {
		//				console.log('页面激活');
		//			}
		//		};
		//		document.addEventListener(visibilityChangeEvent, onVisibilityChange);
		//
		//		function confirm1() {
		//			$.alert('还需再分享到<span style="color: red;font-size: 24px;">2</span>个不同的群（群人数不少于50人）', "<span style='color: green;'>分享成功</span>", function() {
		//				aaa++;
		//			});
		//		}
		//		function confirm2() {
		//			$.alert('还需再分享到<span style="color: red;font-size: 24px;">1</span>个不同的群（群人数不少于50人）', "<span style='color: green;'>分享成功</span>", function() {
		//				aaa++;
		//			});
		//		}
		//		function ok() {
		//            $.modal({
		//                title: "<span style='color: red;'>恭喜你,已成功获得领取资格！</span>",
		//                text: '奖品剩余103份，请凭领奖码尽快领取!</br>您的领奖号码是：777777',
		//                buttons: [
		//                    {
		//                        text: "<span>去领取</span>", onClick: function(){
		//                      	  
		//                        }
		//                    }
		//                ]
		//            });
		//  }
	</script>

</html>